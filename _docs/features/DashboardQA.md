# ダッシュボード QA チェックリスト

## 自動テスト
- `npm test`（apps/server）: 新規追加したタイムゾーン境界テストとレスポンス 300ms 以内テストを実行。
- `npm test`（apps/mobile）: `buildTargetComparison`・`formatDayLabel`・リング表示ロジックのユーティリティテストを確認。
- CI の `dashboard-performance.test.js` で 5000 レコードを扱う集計性能を確認。

## 手動確認
- **低スペック端末想定**: Expo Go の開発者メニューで「Disable Motion」を有効にし、新しい PFC ドーナツチャートと時間帯別カードが静的に描画されることを確認。（アニメーションは実装していないため視覚負荷なし）
- **データ量の多い週**: サーバーログに 4 週間分のダミーデータを投入した後、モバイルの `thisWeek` 表示でスクロールとタブ切り替えがフリーズしないことを確認。
- **オフライン→オンライン復旧**: ダッシュボード表示後に回線を切断し、キャッシュ表示バナーが出ることを確認。再接続してプルリフレッシュし、最新データに更新されることを確認（AsyncStorage キャッシュ + React Query）。
- **食事履歴リスト**: 「最近の食事履歴」が 5 件まで表示され、ゼロ件のときは「記録する」導線が表示されることを確認。
- **目標比較カード**: 「目標との比較」カードの達成率・差分がグラフや AsyncStorage の値と一致することを確認。
- **リング表示（4状態）**: 未達 / 達成 / 超過 / 目標未設定の各ケースで文言・色・ARIAラベルが期待どおりか確認。
- **データ不足時の表示**: データ点が 0〜1 件の期間で折れ線グラフが非表示になり、プレースホルダー文言が表示されることを確認。

## リリース前チェック
- `docs/DashboardReleaseNotes.md` をプロダクトノートとして共有し、プロダクト/QA チームのサインオフを取得。
- App/Store 更新時には比較カード・i18n ラベルを含むスクリーンショットを差し替え。
